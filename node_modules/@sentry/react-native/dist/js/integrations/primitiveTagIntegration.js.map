{"version":3,"file":"primitiveTagIntegration.js","sourceRoot":"","sources":["../../../src/js/integrations/primitiveTagIntegration.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,iBAAiB,EAAE,MAAM,6BAA6B,CAAC;AAChE,OAAO,EAAE,MAAM,EAAE,MAAM,YAAY,CAAC;AAEpC,MAAM,CAAC,MAAM,gBAAgB,GAAG,yBAAyB,CAAC;AAE1D;;;;;;;;;;;GAWG;AACH,MAAM,CAAC,MAAM,uBAAuB,GAAG,GAAgB,EAAE;IACvD,OAAO;QACL,IAAI,EAAE,gBAAgB;QACtB,KAAK,CAAC,MAAM;YACV,MAAM,CAAC,EAAE,CAAC,iBAAiB,EAAE,KAAK,CAAC,EAAE;gBACnC,IAAI,KAAK,CAAC,IAAI,EAAE;oBACd,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;wBACpC,KAAK,CAAC,IAAK,CAAC,GAAG,CAAC,GAAG,iBAAiB,CAAC,KAAK,CAAC,IAAK,CAAC,GAAG,CAAC,CAAC,CAAC;oBACzD,CAAC,CAAC,CAAC;iBACJ;YACH,CAAC,CAAC,CAAC;QACL,CAAC;QACD,aAAa;YACX,IAAI,MAAM,CAAC,YAAY,EAAE;gBACvB,MAAM,CAAC,sBAAsB,CAAC,CAAC,KAAgB,EAAE,EAAE,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC,CAAC;aAC/E;QACH,CAAC;KACF,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import type { Integration, Primitive } from '@sentry/core';\nimport { PrimitiveToString } from '../utils/primitiveConverter';\nimport { NATIVE } from '../wrapper';\n\nexport const INTEGRATION_NAME = 'PrimitiveTagIntegration';\n\n/**\n * Format tags set with Primitive values with a standard string format.\n *\n * When this Integration is enable, the following types will have the following behaviour:\n *\n * Unaltered: string, null, number, and undefined values remain unchanged.\n *\n * Altered:\n *  Boolean values are now capitalized: true -> True, false -> False.\n *  Symbols are stringified.\n *\n */\nexport const primitiveTagIntegration = (): Integration => {\n  return {\n    name: INTEGRATION_NAME,\n    setup(client) {\n      client.on('beforeSendEvent', event => {\n        if (event.tags) {\n          Object.keys(event.tags).forEach(key => {\n            event.tags![key] = PrimitiveToString(event.tags![key]);\n          });\n        }\n      });\n    },\n    afterAllSetup() {\n      if (NATIVE.enableNative) {\n        NATIVE._setPrimitiveProcessor((value: Primitive) => PrimitiveToString(value));\n      }\n    },\n  };\n};\n"]}